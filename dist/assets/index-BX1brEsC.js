import{_ as q}from"./logo-BqxLN55x.js";import{u as Q}from"./busqueda-D7TOOw1A.js";import{g as Y,a as Z}from"./UpdateColors-C2amtKAu.js";import{V as u,a as A}from"./VRow-rFEsfuxq.js";import{V as $,d as K,a as X,e as tt}from"./VCard-BhLrgV9c.js";import{V as et}from"./VSelect-WoFjp-F4.js";import{y as at,D as ot,H as F,U as N,_ as st,E as it,o as V,k as I,w as l,b as d,a as e,q as s,t as c,z as v,d as B,s as R,r as nt}from"./index-C6xIyDbS.js";import"./customizer-IgMZXBk4.js";import"./useRender-DGt6a0IA.js";import"./router-BDKllWdj.js";import"./VAvatar-DQ4qamF1.js";import"./transition-wc7ry4y5.js";import"./VTextField-B1n-2lTf.js";import"./VField-QSBgCIU0.js";import"./index-Cya4CCex.js";import"./VLabel-B-wY8ORj.js";import"./VInput-B410WGet.js";import"./forwardRefs-D3j0TLhE.js";import"./VList-cqPY3INU.js";import"./ssrBoot-Cm67umqN.js";import"./VDivider-BT9IU-N7.js";import"./dialog-transition-DL42JsIK.js";import"./VMenu-s0wgA0NL.js";import"./VOverlay-CSmFjP6x.js";import"./lazy-BeTNW6Wu.js";import"./scopeId-C2Bi3xh8.js";import"./resizeObserver-X_GALw7v.js";import"./VCheckboxBtn-5hB5J-9G.js";import"./VSelectionControl-x82hVVyd.js";import"./VChip-BotuoLGf.js";import"./VSlideGroup-C4CVuqlZ.js";import"./group-C9gy4-6n.js";const lt="/sirecom/assets/75704-ConGAJMC.png",E="/sirecom/assets/prueba2-DdcVZsCh.png",J="/sirecom/assets/prueba4-BjO6QOyn.png",rt={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightprimary")},dt={class:s("bg-lightprimary")},ct=e("img",{src:q,class:"imagen"},null,-1),mt=["textContent"],ut=["textContent"],pt={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightwarning")},ft={class:s("bg-lightwarning")},gt=e("img",{src:lt,class:"imagen"},null,-1),ht=["textContent"],_t=["textContent"],xt={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightsecondary")},bt={class:s("bg-lightsecondary")},vt=e("img",{src:E,class:"imagen"},null,-1),yt=["textContent"],Ct=["textContent"],Dt={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lighterror")},wt={class:s("bg-lighterror")},St=e("img",{src:E,class:"imagen"},null,-1),kt=["textContent"],zt=["textContent"],Vt={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightsuccess")},It={class:s("bg-lightsuccess")},Mt=e("img",{src:J,class:"imagen"},null,-1),Ot=["textContent"],Pt=["textContent"],At={class:s("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightprimary")},Nt={class:s("bg-lightprimary")},Rt=e("img",{src:J,class:"imagen"},null,-1),Tt=["textContent"],jt=["textContent"],Ft={class:"d-sm-flex align-center justify-space-between"},Bt={class:"my-sm-0 my-2"},be=at({__name:"index",setup(Et){const m=Q(),U=JSON.parse(localStorage.getItem("user")||"").nombre_perfil;JSON.parse(localStorage.getItem("user")||"").cedula_identidad;const w=JSON.parse(localStorage.getItem("user")||"").id_perfil,M=JSON.parse(localStorage.getItem("user")||"").id_taller,a=ot({formData:{id:"",nro_usuarios:"",title1:"",dato1:"",title2:"",dato2:"",title3:"",dato3:"",title4:"",dato4:"",title5:"",dato5:"",title6:"",dato6:"",estado:"",extra:""}}),T=new Date,j=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],O=j[T.getMonth()];T.getFullYear();const S=F("");S.value=O;const k=[],z=[],i=F([]),H=async n=>{if(n!=""){i.value=await m.getPrueba2(n);for(let o=0;o<i.value.length;o++)k[o]=parseInt(i.value[o].pendientes),z[o]=i.value[o].finalizado,i.value[o].placa}else{i.value=await m.getPrueba2(O);for(let o=0;o<i.value.length;o++)k[o]=parseInt(i.value[o].pendientes),z[o]=i.value[o].finalizado,i.value[o].placa}},L=async()=>{const n=await m.getInfoB(),o=await m.getUsers(),f=await m.getVehiculos(),p=await m.getFinalizado(),y=await m.getPendiente(),C=await m.getPedidos_en(),D=await m.getPedidos_pen();i.value=await m.getPrueba2(O);for(let r=0;r<i.value.length;r++)k[r]=parseInt(i.value[r].pendientes),z[r]=i.value[r].finalizado,i.value[r].placa;if(a.formData.title1="Usuarios Registrados",a.formData.title2="VehÃ­culos Registrados",a.formData.title3="Mantenimientos Finalizado",a.formData.title4="Mantenimientos Pendientes",a.formData.title5="Repuestos Entregados",a.formData.title6="Repuestos Pendientes",U.includes("SUPER ADMINISTRADOR")||w==1){let r=0;for(let t=0;t<o.length;t++)r=r+parseInt(o[t].total);a.formData.dato1=String(r);let g=0;for(let t=0;t<f.length;t++)g=g+parseInt(f[t].total);a.formData.dato2=String(g);let h=0;for(let t=0;t<p.length;t++)h=h+parseInt(p[t].total);a.formData.dato3=String(h);let _=0;for(let t=0;t<y.length;t++)_=_+parseInt(y[t].total);a.formData.dato4=String(_);let x=0;for(let t=0;t<C.length;t++)x=x+parseInt(C[t].cantidad);a.formData.dato5=String(x);let b=0;for(let t=0;t<D.length;t++)b=b+parseInt(D[t].cantidad);a.formData.dato6=String(b)}else{let r=0;for(let t=0;t<o.length;t++)if(o[t].id_taller==n.id_taller){r=o[t].total;break}a.formData.dato1=String(r);let g=0;for(let t=0;t<f.length;t++)if(f[t].id_taller==n.id_taller){g=f[t].total;break}a.formData.dato2=String(g);let h=0;for(let t=0;t<p.length;t++)if(p[t].id_taller==n.id_taller){h=p[t].total;break}a.formData.dato3=String(h);let _=0;for(let t=0;t<y.length;t++)if(y[t].id_taller==n.id_taller){_=y[t].total;break}a.formData.dato4=String(_);let x=0;for(let t=0;t<C.length;t++)if(C[t].id_taller==n.id_taller){x=C[t].cantidad;break}a.formData.dato5=String(x);let b=0;for(let t=0;t<D.length;t++)if(D[t].id_taller==n.id_taller){b=D[t].cantidad;break}a.formData.dato6=String(b)}},G=N(()=>({chart:{height:400,type:"bar",fontFamily:"inherit",foreColor:"#051d49",stacked:!0},colors:[Y.value,Z.value],plotOptions:{bar:{horizontal:!1,barHeight:"50%",columnWidth:"10%",borderRadius:[3],borderRadiusApplication:"end",borderRadiusWhenStacked:"all"}},stroke:{show:!1},dataLabels:{enabled:!1},legend:{show:!1},grid:{borderColor:"rgba(0,0,1,0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},yaxis:{min:Math.min(...i.value.map(n=>n.total)),max:Math.max(...i.value.map(n=>n.total)),tickAmount:Math.max(...i.value.map(n=>n.total))},xaxis:{categories:i.value.map(n=>n.fuerza),axisBorder:{show:!1}},tooltip:{theme:"dark",x:{format:"dd/MM/yy HH:mm"}},responsive:[{breakpoint:991,options:{xaxis:{labels:{rotate:-45},categories:i.value.map(n=>n.fuerza)}}}]})),W={series:[{name:"Mantenimientos Pendientes",data:k},{name:"Mantenimientos Entregados",data:z}]},P=st();return P.current.value.colors.success,P.current.value.colors.accent,P.current.value.colors.warning,N(()=>({chart:{type:"donut",height:300,fontFamily:"inherit",foreColor:"#adb0bb"},dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:"70px"}}},legend:{show:!0,position:"bottom",width:"50px"},colors:["#6ac3fd","#0b70fb","#f64e60","#26c6da","#ffa800"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]})),N(()=>({chart:{type:"pie",height:300,fontFamily:"inherit",foreColor:"#adb0bb",toolbar:{show:!1}},dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:"70px"}}},legend:{show:!0,position:"bottom",width:"50px"},colors:["#6ac3fd","#0b70fb","#f64e60","#26c6da","#ffa800"],tooltip:{fillSeriesColor:!1},labels:["Team A","Team B","Team C","Team D","Team E"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]})),it(async()=>{await L()}),(n,o)=>{const f=nt("apexchart");return V(),I(A,null,{default:l(()=>[d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",rt,[e("div",dt,[ct,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-primary"),textContent:c(a.formData.title1)},null,8,mt),e("h4",{class:s("text-h4 mt-1 text-primary"),textContent:c(a.formData.dato1)},null,8,ut)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",pt,[e("div",ft,[gt,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-warning"),textContent:c(a.formData.title2)},null,8,ht),e("h4",{class:s("text-h4 mt-1 text-warning"),textContent:c(a.formData.dato2)},null,8,_t)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",xt,[e("div",bt,[vt,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-secondary"),textContent:c(a.formData.title3)},null,8,yt),e("h4",{class:s("text-h4 mt-1 text-secondary"),textContent:c(a.formData.dato3)},null,8,Ct)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",Dt,[e("div",wt,[St,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-error"),textContent:c(a.formData.title4)},null,8,kt),e("h4",{class:s("text-h4 mt-1 text-error"),textContent:c(a.formData.dato4)},null,8,zt)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",Vt,[e("div",It,[Mt,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-success"),textContent:c(a.formData.title5)},null,8,Ot),e("h4",{class:s("text-h4 mt-1 text-success"),textContent:c(a.formData.dato5)},null,8,Pt)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:l(()=>[e("div",At,[e("div",Nt,[Rt,e("div",{class:s("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-primary"),textContent:c(a.formData.title6)},null,8,Tt),e("h4",{class:s("text-h4 mt-1 text-primary"),textContent:c(a.formData.dato6)},null,8,jt)])])]),_:1}),d(u,{cols:"12"},{default:l(()=>[v(w)==1||v(M)==1?(V(),I(A,{key:0},{default:l(()=>[d(u,{cols:"12",lg:"12",md:"12"},{default:l(()=>[d($,{elevation:"10"},{default:l(()=>[d(K,null,{default:l(()=>[e("div",Ft,[e("div",null,[d(X,{class:"text-h5"},{default:l(()=>[B("Cuadro de Mantenimiento por mes")]),_:1}),d(tt,{class:"text-subtitle-1 textSecondary"},{default:l(()=>[B("Fuerzas")]),_:1})]),e("div",Bt,[v(w)==1||v(M)==1?(V(),I(et,{key:0,modelValue:S.value,"onUpdate:modelValue":[o[0]||(o[0]=p=>S.value=p),o[1]||(o[1]=p=>{H(S.value)})],"item-text":"text",items:j,variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])):R("",!0)])]),d(A,null,{default:l(()=>[v(w)==1||v(M)==1?(V(),I(u,{key:0,cols:"12",sm:"12",class:"pt-7"},{default:l(()=>[d(f,{type:"bar",height:"375",options:G.value,series:W.series},null,8,["options","series"])]),_:1})):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1})}}});export{be as default};
