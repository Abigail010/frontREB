import{_ as q}from"./logo-BqxLN55x.js";import{u as Q}from"./busqueda-EK3lEw0t.js";import{g as Y,a as Z}from"./UpdateColors-CyEqpZ7n.js";import{V as u,a as O}from"./VRow-CP79OSqc.js";import{V as $,d as K,a as X,e as tt}from"./VCard-lycBolgK.js";import{V as et}from"./VSelect-ClxLdjGf.js";import{y as at,D as ot,H as F,U as P,_ as st,E as it,o as A,k as V,w as r,b as d,a as e,q as n,t as c,z as v,d as B,s as R,r as nt}from"./index-DrTwkWKv.js";import"./customizer-Ds-sCqkR.js";import"./useRender-BOCQZ1Hm.js";import"./router-WculNeyF.js";import"./VAvatar-ChmD2NQY.js";import"./transition-DZ1vwVgr.js";import"./VTextField-DwhnQBcY.js";import"./VField-Dj1_Uul3.js";import"./index-C_v6l9pV.js";import"./VLabel-CrcPKldg.js";import"./VInput-MGgT_itD.js";import"./forwardRefs-D3j0TLhE.js";import"./VList-Cj-CAV5P.js";import"./ssrBoot-DGiRhBlY.js";import"./VDivider-DBdustGe.js";import"./dialog-transition-D8F8OoFH.js";import"./VMenu-DutG15yQ.js";import"./VOverlay-DaU1oGBB.js";import"./lazy-C5vzorO2.js";import"./scopeId-o3q1bBTy.js";import"./resizeObserver-ByQQTg7p.js";import"./VCheckboxBtn-CZV2A-Bi.js";import"./VSelectionControl-DrG-JbVx.js";import"./VChip-V1QOt9R1.js";import"./VSlideGroup-B3Y5oykx.js";import"./group-DPsegRnP.js";const rt="/sirecom/assets/75704-ConGAJMC.png",E="/sirecom/assets/prueba2-DdcVZsCh.png",J="/sirecom/assets/prueba4-BjO6QOyn.png",lt={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightprimary")},dt={class:n("bg-lightprimary")},ct=e("img",{src:q,class:"imagen"},null,-1),mt=["textContent"],ut=["textContent"],pt={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightwarning")},ft={class:n("bg-lightwarning")},gt=e("img",{src:rt,class:"imagen"},null,-1),ht=["textContent"],_t=["textContent"],xt={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightsecondary")},bt={class:n("bg-lightsecondary")},vt=e("img",{src:E,class:"imagen"},null,-1),yt=["textContent"],Ct=["textContent"],Dt={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lighterror")},wt={class:n("bg-lighterror")},St=e("img",{src:E,class:"imagen"},null,-1),zt=["textContent"],kt=["textContent"],At={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightsuccess")},Vt={class:n("bg-lightsuccess")},It=e("img",{src:J,class:"imagen"},null,-1),Mt=["textContent"],Nt=["textContent"],Ot={class:n("text-decoration-none d-flex align-center justify-center text-center rounded-md pa-6  bg-lightprimary")},Pt={class:n("bg-lightprimary")},Rt=e("img",{src:J,class:"imagen"},null,-1),Tt=["textContent"],jt=["textContent"],Ft={class:"d-sm-flex align-center justify-space-between"},Bt={class:"my-sm-0 my-2"},be=at({__name:"index",setup(Et){const m=Q(),U=JSON.parse(localStorage.getItem("user")||"").nombre_perfil;JSON.parse(localStorage.getItem("user")||"").cedula_identidad;const w=JSON.parse(localStorage.getItem("user")||"").id_perfil,I=JSON.parse(localStorage.getItem("user")||"").id_taller,a=ot({formData:{id:"",nro_usuarios:"",title1:"",dato1:"",title2:"",dato2:"",title3:"",dato3:"",title4:"",dato4:"",title5:"",dato5:"",title6:"",dato6:"",estado:"",extra:""}}),T=new Date,j=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],M=j[T.getMonth()];T.getFullYear();const S=F("");S.value=M;const z=[],k=[],i=F([]),H=async o=>{if(o!=""){i.value=await m.getPrueba2(o);for(let s=0;s<i.value.length;s++)z[s]=parseInt(i.value[s].pendientes),k[s]=parseInt(i.value[s].finalizado),i.value[s].placa}else{i.value=await m.getPrueba2(M);for(let s=0;s<i.value.length;s++)z[s]=parseInt(i.value[s].pendientes),k[s]=parseInt(i.value[s].finalizado),i.value[s].placa}},L=async()=>{const o=await m.getInfoB(),s=await m.getUsers(),f=await m.getVehiculos(),p=await m.getFinalizado(),y=await m.getPendiente(),C=await m.getPedidos_en(),D=await m.getPedidos_pen();i.value=await m.getPrueba2(M);for(let l=0;l<i.value.length;l++)z[l]=parseInt(i.value[l].pendientes),k[l]=i.value[l].finalizado,i.value[l].placa;if(a.formData.title1="Usuarios Registrados",a.formData.title2="VehÃ­culos en Mantenimiento",a.formData.title3="Mantenimientos Finalizado",a.formData.title4="Mantenimientos Pendientes",a.formData.title5="Repuestos Entregados",a.formData.title6="Repuestos Pendientes",U.includes("SUPER ADMINISTRADOR")||w==1){let l=0;for(let t=0;t<s.length;t++)l=l+parseInt(s[t].total);a.formData.dato1=String(l);let g=0;for(let t=0;t<f.length;t++)g=g+parseInt(f[t].total);a.formData.dato2=String(g);let h=0;for(let t=0;t<p.length;t++)h=h+parseInt(p[t].total);a.formData.dato3=String(h);let _=0;for(let t=0;t<y.length;t++)_=_+parseInt(y[t].total);a.formData.dato4=String(_);let x=0;for(let t=0;t<C.length;t++)x=x+parseInt(C[t].cantidad);a.formData.dato5=String(x);let b=0;for(let t=0;t<D.length;t++)b=b+parseInt(D[t].cantidad);a.formData.dato6=String(b)}else{let l=0;for(let t=0;t<s.length;t++)if(s[t].id_taller==o.id_taller){l=s[t].total;break}a.formData.dato1=String(l);let g=0;for(let t=0;t<f.length;t++)if(f[t].id_taller==o.id_taller){g=f[t].total;break}a.formData.dato2=String(g);let h=0;for(let t=0;t<p.length;t++)if(p[t].id_taller==o.id_taller){h=p[t].total;break}a.formData.dato3=String(h);let _=0;for(let t=0;t<y.length;t++)if(y[t].id_taller==o.id_taller){_=y[t].total;break}a.formData.dato4=String(_);let x=0;for(let t=0;t<C.length;t++)if(C[t].id_taller==o.id_taller){x=C[t].cantidad;break}a.formData.dato5=String(x);let b=0;for(let t=0;t<D.length;t++)if(D[t].id_taller==o.id_taller){b=D[t].cantidad;break}a.formData.dato6=String(b)}},G=P(()=>({chart:{height:400,type:"bar",fontFamily:"inherit",foreColor:"#051d49",stacked:!0},colors:[Y.value,Z.value],plotOptions:{bar:{horizontal:!1,barHeight:"50%",columnWidth:"10%",borderRadius:[3],borderRadiusApplication:"end",borderRadiusWhenStacked:"all"}},stroke:{show:!1},dataLabels:{enabled:!1},legend:{show:!1},grid:{borderColor:"rgba(0,0,1,0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},yaxis:{min:Math.min(...Array.isArray(i.value)?i.value.map(o=>o.total?Number(o.total):0):[0]),max:Math.max(...Array.isArray(i.value)?i.value.map(o=>o.total?Number(o.total):0):[0]),tickAmount:Math.max(...Array.isArray(i.value)?i.value.map(o=>o.total?Number(o.total):0):[0])},xaxis:{categories:(Array.isArray(i.value)?i.value:[]).map(o=>o.fuerza&&o.fuerza.trim()?o.fuerza:"Sin registros"),axisBorder:{show:!1}},tooltip:{theme:"dark",x:{format:"dd/MM/yy HH:mm"}},responsive:[{breakpoint:991,options:{xaxis:{labels:{rotate:-45},categories:(Array.isArray(i.value)?i.value:[]).map(o=>o.fuerza&&o.fuerza.trim()?o.fuerza:"Sin registros")}}}]})),W={series:[{name:"Mantenimientos Pendientes",data:z},{name:"Mantenimientos Entregados",data:k}]},N=st();return N.current.value.colors.success,N.current.value.colors.accent,N.current.value.colors.warning,P(()=>({chart:{type:"donut",height:300,fontFamily:"inherit",foreColor:"#adb0bb"},dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:"70px"}}},legend:{show:!0,position:"bottom",width:"50px"},colors:["#6ac3fd","#0b70fb","#f64e60","#26c6da","#ffa800"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]})),P(()=>({chart:{type:"pie",height:300,fontFamily:"inherit",foreColor:"#adb0bb",toolbar:{show:!1}},dataLabels:{enabled:!1},plotOptions:{pie:{donut:{size:"70px"}}},legend:{show:!0,position:"bottom",width:"50px"},colors:["#6ac3fd","#0b70fb","#f64e60","#26c6da","#ffa800"],tooltip:{fillSeriesColor:!1},labels:["Team A","Team B","Team C","Team D","Team E"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]})),it(async()=>{await L()}),(o,s)=>{const f=nt("apexchart");return A(),V(O,null,{default:r(()=>[d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",lt,[e("div",dt,[ct,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-primary"),textContent:c(a.formData.title1)},null,8,mt),e("h4",{class:n("text-h4 mt-1 text-primary"),textContent:c(a.formData.dato1)},null,8,ut)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",pt,[e("div",ft,[gt,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-warning"),textContent:c(a.formData.title2)},null,8,ht),e("h4",{class:n("text-h4 mt-1 text-warning"),textContent:c(a.formData.dato2)},null,8,_t)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",xt,[e("div",bt,[vt,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-secondary"),textContent:c(a.formData.title3)},null,8,yt),e("h4",{class:n("text-h4 mt-1 text-secondary"),textContent:c(a.formData.dato3)},null,8,Ct)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",Dt,[e("div",wt,[St,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-error"),textContent:c(a.formData.title4)},null,8,zt),e("h4",{class:n("text-h4 mt-1 text-error"),textContent:c(a.formData.dato4)},null,8,kt)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",At,[e("div",Vt,[It,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-success"),textContent:c(a.formData.title5)},null,8,Mt),e("h4",{class:n("text-h4 mt-1 text-success"),textContent:c(a.formData.dato5)},null,8,Nt)])])]),_:1}),d(u,{cols:"12",lg:"2",md:"4",sm:"4"},{default:r(()=>[e("div",Ot,[e("div",Pt,[Rt,e("div",{class:n("text-subtitle-1 text-capitalize font-weight-bold mt-3 text-primary"),textContent:c(a.formData.title6)},null,8,Tt),e("h4",{class:n("text-h4 mt-1 text-primary"),textContent:c(a.formData.dato6)},null,8,jt)])])]),_:1}),d(u,{cols:"12"},{default:r(()=>[v(w)==1||v(I)==1?(A(),V(O,{key:0},{default:r(()=>[d(u,{cols:"12",lg:"12",md:"12"},{default:r(()=>[d($,{elevation:"10"},{default:r(()=>[d(K,null,{default:r(()=>[e("div",Ft,[e("div",null,[d(X,{class:"text-h5"},{default:r(()=>[B("Cuadro de Mantenimiento por mes")]),_:1}),d(tt,{class:"text-subtitle-1 textSecondary"},{default:r(()=>[B("Fuerzas")]),_:1})]),e("div",Bt,[v(w)==1||v(I)==1?(A(),V(et,{key:0,modelValue:S.value,"onUpdate:modelValue":[s[0]||(s[0]=p=>S.value=p),s[1]||(s[1]=p=>{H(S.value)})],"item-text":"text",items:j,variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue"])):R("",!0)])]),d(O,null,{default:r(()=>[v(w)==1||v(I)==1?(A(),V(u,{key:0,cols:"12",sm:"12",class:"pt-7"},{default:r(()=>[d(f,{type:"bar",height:"375",options:G.value,series:W.series},null,8,["options","series"])]),_:1})):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):R("",!0)]),_:1})]),_:1})}}});export{be as default};
